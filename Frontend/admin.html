<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Nalla Ink</title>
    <link rel="icon" type="image/jpg" href="images/nalla-ink.jpg">
    <link rel="stylesheet" href="css/admin.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Oswald:wght@300;400;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Page de connexion -->
    <div class="login-container" id="loginContainer">
        <div class="login-box">
            <img src="images/nalla-ink.jpg" alt="Nalla Ink Logo" class="login-logo">
            <h1>NALLA INK</h1>
            <p class="login-subtitle">Administration</p>

            <form id="loginForm" class="login-form">
                <div class="form-group">
                    <label for="password">Mot de passe</label>
                    <input type="password" id="password" name="password" required autocomplete="current-password" placeholder="Entrez le mot de passe">
                </div>
                <button type="submit" class="btn-primary">Se connecter</button>
                <p class="error-message" id="loginError"></p>
                <p class="login-hint">Mot de passe par d√©faut: <strong>admin123</strong></p>
            </form>
        </div>
    </div>

    <!-- Interface d'administration -->
    <div class="admin-container" id="adminContainer" style="display: none;">
        <!-- Header -->
        <header class="admin-header">
            <div class="header-content">
                <div class="header-left">
                    <img src="images/nalla-ink.jpg" alt="Nalla Ink" class="header-logo">
                    <h1>NALLA INK</h1>
                </div>
                <div class="header-right">
                    <a href="index.html" target="_blank" class="btn-secondary">
                        <span>üëÅÔ∏è</span> Voir le site
                    </a>
                    <button id="logoutBtn" class="btn-logout">
                        <span>üö™</span> D√©connexion
                    </button>
                </div>
            </div>
        </header>

        <!-- Main content -->
        <main class="admin-main">
            <!-- Section Upload -->
            <section class="upload-section">
                <h2>üì§ Ajouter une nouvelle cr√©ation</h2>

                <form id="uploadForm" class="upload-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="title">Titre</label>
                            <input type="text" id="title" name="title" placeholder="Ex: Dragon tribal" required>
                        </div>

                        <div class="form-group">
                            <label for="category">Cat√©gorie</label>
                            <select id="category" name="category" required>
                                <option value="">Choisir une cat√©gorie</option>
                                <option value="tattoo">Tatouage</option>
                                <option value="mirror">Gravure sur miroir</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="description">Description (optionnel)</label>
                        <textarea id="description" name="description" rows="3" placeholder="D√©crivez votre cr√©ation..."></textarea>
                    </div>

                    <div class="form-group">
                        <label for="imageFile">Image</label>
                        <div class="file-upload-area" id="fileUploadArea">
                            <input type="file" id="imageFile" name="image" accept="image/*" required>
                            <div class="upload-placeholder">
                                <span class="upload-icon">üì∏</span>
                                <p>Cliquez ou glissez une image ici</p>
                                <p class="upload-hint">JPG, PNG ou WEBP - Max 10MB</p>
                            </div>
                            <div class="image-preview" id="imagePreview" style="display: none;">
                                <img id="previewImg" src="" alt="Preview">
                                <button type="button" class="remove-preview" id="removePreview">‚úï</button>
                            </div>
                        </div>
                    </div>

                    <button type="submit" class="btn-primary btn-large" id="submitBtn">
                        <span>‚ú®</span> Publier la cr√©ation
                    </button>
                </form>
            </section>

            <!-- Section Galerie -->
            <section class="gallery-section">
                <div class="gallery-header">
                    <h2>üé® Mes cr√©ations</h2>
                    <div class="gallery-filters">
                        <button class="filter-tab active" data-filter="all">
                            Toutes <span class="count" id="countAll">0</span>
                        </button>
                        <button class="filter-tab" data-filter="tattoo">
                            Tatouages <span class="count" id="countTattoo">0</span>
                        </button>
                        <button class="filter-tab" data-filter="mirror">
                            Gravures <span class="count" id="countMirror">0</span>
                        </button>
                    </div>
                </div>

                <div class="gallery-grid" id="galleryGrid">
                    <!-- Les cr√©ations seront charg√©es ici dynamiquement -->
                    <div class="loading">
                        <div class="spinner"></div>
                        <p>Chargement...</p>
                    </div>
                </div>
            </section>

            <!-- Section T√©moignages -->
            <section class="testimonials-section">
                <h2>üí¨ T√©moignages clients</h2>

                <!-- Formulaire d'ajout de t√©moignage -->
                <div class="testimonial-form-wrapper">
                    <button class="btn-primary" id="toggleTestimonialForm">
                        <span>‚ûï</span> Ajouter un t√©moignage
                    </button>

                    <form id="testimonialForm" class="testimonial-form" style="display: none;">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="clientName">Nom du client *</label>
                                <input type="text" id="clientName" name="clientName" placeholder="Ex: Sarah M." required>
                            </div>

                            <div class="form-group">
                                <label for="clientService">Service r√©alis√© *</label>
                                <input type="text" id="clientService" name="clientService" placeholder="Ex: Tatouage floral - Avant-bras" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="rating">Note *</label>
                            <div class="star-rating">
                                <input type="radio" id="star5" name="rating" value="5" required>
                                <label for="star5">‚òÖ</label>
                                <input type="radio" id="star4" name="rating" value="4">
                                <label for="star4">‚òÖ</label>
                                <input type="radio" id="star3" name="rating" value="3">
                                <label for="star3">‚òÖ</label>
                                <input type="radio" id="star2" name="rating" value="2">
                                <label for="star2">‚òÖ</label>
                                <input type="radio" id="star1" name="rating" value="1">
                                <label for="star1">‚òÖ</label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="testimonialText">T√©moignage *</label>
                            <textarea id="testimonialText" name="testimonialText" rows="4" placeholder="Le t√©moignage du client..." required></textarea>
                        </div>

                        <div class="form-actions">
                            <button type="button" class="btn-secondary" id="cancelTestimonial">Annuler</button>
                            <button type="submit" class="btn-primary" id="submitTestimonial">
                                <span>‚ú®</span> Publier le t√©moignage
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Liste des t√©moignages -->
                <div class="testimonials-grid" id="testimonialsGrid">
                    <div class="loading">
                        <div class="spinner"></div>
                        <p>Chargement des t√©moignages...</p>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal de confirmation de suppression -->
    <div class="modal" id="deleteModal" style="display: none;">
        <div class="modal-overlay" id="modalOverlay"></div>
        <div class="modal-content">
            <h3>‚ö†Ô∏è Confirmer la suppression</h3>
            <p>√ätes-vous s√ªr de vouloir supprimer cette cr√©ation ?</p>
            <p class="modal-warning">Cette action est irr√©versible.</p>
            <div class="modal-actions">
                <button class="btn-secondary" id="cancelDelete">Annuler</button>
                <button class="btn-danger" id="confirmDelete">Supprimer</button>
            </div>
        </div>
    </div>

    <!-- Conteneur pour les notifications toast -->
    <div class="toast-container" id="toastContainer"></div>

    <script src="js/admin.js"></script>
</body>
</html>
